<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Y & M — Invitation</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Great+Vibes&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{--accent-pink:#ff1493;--accent-blue:#00bfff}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;width:100%;overflow:hidden;background:#1a1a2e}

/* ── INTRO ── */
#intro{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
  background:radial-gradient(ellipse at 50% 30%, #2d1b4e 0%, #1a1a2e 60%, #0d0d1a 100%);
  z-index:40;
}
#intro.hidden{display:none}

/* Stars background */
#intro::before{
  content:'';position:absolute;inset:0;
  background-image:
    radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,.8), transparent),
    radial-gradient(1px 1px at 25% 60%, rgba(255,255,255,.6), transparent),
    radial-gradient(1px 1px at 40% 10%, rgba(255,255,255,.9), transparent),
    radial-gradient(1px 1px at 55% 75%, rgba(255,255,255,.5), transparent),
    radial-gradient(1px 1px at 70% 35%, rgba(255,255,255,.7), transparent),
    radial-gradient(1px 1px at 85% 80%, rgba(255,255,255,.8), transparent),
    radial-gradient(1px 1px at 15% 85%, rgba(255,255,255,.6), transparent),
    radial-gradient(1px 1px at 90% 15%, rgba(255,255,255,.5), transparent),
    radial-gradient(1px 1px at 60% 50%, rgba(255,255,255,.4), transparent),
    radial-gradient(1px 1px at 30% 40%, rgba(255,255,255,.7), transparent),
    radial-gradient(2px 2px at 45% 90%, rgba(255,192,203,.6), transparent),
    radial-gradient(2px 2px at 80% 55%, rgba(173,216,230,.5), transparent);
  pointer-events:none;
}

/* ── PHONE FRAME — covers full viewport ── */
.phone-frame{
  position:relative;
  width:min(100vw, calc(100vh * 0.46));
  height:min(100vh, calc(100vw * 2.17));
  background:linear-gradient(145deg,#2a2a3e,#1a1a2e);
  border-radius:min(5vw, 44px);
  box-shadow:
    0 0 0 min(1vw, 8px) #2e2e4a,
    0 0 0 min(1.5vw, 12px) #1a1a2e,
    0 0 0 min(1.8vw, 14px) #3a3a5c,
    0 40px 120px rgba(0,0,0,.8),
    inset 0 0 60px rgba(255,20,147,.03);
  cursor:pointer;
  overflow:hidden;
  animation:float 4s ease-in-out infinite;
}
@keyframes float{0%,100%{transform:translateY(0) rotate(-1deg)}50%{transform:translateY(-14px) rotate(1deg)}}

/* Phone notch */
.phone-notch{
  position:absolute;top:0;left:50%;transform:translateX(-50%);
  width:35%;height:min(4vw, 28px);
  background:#1a1a2e;
  border-radius:0 0 min(2vw, 18px) min(2vw, 18px);
  z-index:20;
  display:flex;align-items:center;justify-content:center;gap:6px;
}
.phone-notch::after{
  content:'';width:8px;height:8px;background:#2a2a4a;border-radius:50%;
  box-shadow:inset 0 0 4px rgba(0,191,255,.3);
}

/* Phone side buttons */
.phone-btn-r{position:absolute;right:min(-2vw,-10px);top:25%;width:min(1.2vw,8px);height:min(8vw,55px);background:#2e2e4a;border-radius:0 4px 4px 0}
.phone-btn-l1{position:absolute;left:min(-2vw,-10px);top:20%;width:min(1.2vw,8px);height:min(4vw,30px);background:#2e2e4a;border-radius:4px 0 0 4px}
.phone-btn-l2{position:absolute;left:min(-2vw,-10px);top:30%;width:min(1.2vw,8px);height:min(4vw,30px);background:#2e2e4a;border-radius:4px 0 0 4px}

/* Screen inside phone */
.phone-screen{
  position:absolute;inset:min(2vw,14px);
  border-radius:min(4vw,34px);
  background:linear-gradient(170deg,#fff9f5 0%,#fff0e6 50%,#fde8d8 100%);
  overflow:hidden;
  display:flex;align-items:center;justify-content:center;
}

/* Screen glow */
.phone-screen::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(255,20,147,.05) 0%,transparent 50%,rgba(0,191,255,.05) 100%);
  pointer-events:none;z-index:1;
}

/* ── ENVELOPE INSIDE SCREEN ── */
.envelope-inner{
  position:relative;
  width:78%;
  max-width:220px;
  z-index:5;
}

/* envelope body */
.env-body{
  width:100%;
  padding-top:62%; /* aspect ratio for landscape envelope */
  position:relative;
  background:linear-gradient(145deg,#fff5ec,#ffdfc8);
  border-radius:8px;
  box-shadow:0 20px 50px rgba(0,0,0,.18),inset 0 1px 0 rgba(255,255,255,.8);
}

/* back flap lines */
.env-body::after{
  content:'';position:absolute;inset:0;
  background:
    linear-gradient(135deg, transparent 49.5%, #f5dcc8 49.5%, #f5dcc8 50.5%, transparent 50.5%),
    linear-gradient(225deg, transparent 49.5%, #f5dcc8 49.5%, #f5dcc8 50.5%, transparent 50.5%);
  border-radius:8px;
  pointer-events:none;
}

/* top flap (opens upward) */
.env-flap-top{
  position:absolute;bottom:100%;left:0;width:100%;
  height:0;border-left:calc(var(--ew)/2) solid transparent;border-right:calc(var(--ew)/2) solid transparent;border-bottom:calc(var(--ew)*0.38) solid #f0cdb0;
  transform-origin:bottom center;
  filter:drop-shadow(0 -4px 8px rgba(0,0,0,.1));
  z-index:6;
  transition:none;
}

/* We use a different approach — absolute positioned div triangle */
.env-top{
  position:absolute;
  left:0;bottom:100%;width:100%;
  aspect-ratio:2/0.8;
  overflow:hidden;
  transform-origin:bottom center;
  z-index:6;
}
.env-top svg{width:100%;height:100%}

.env-seal{
  position:absolute;top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:min(13vw,52px);height:min(13vw,52px);
  background:radial-gradient(circle at 35% 35%,#ff6666,#cc0000 40%,#990000 100%);
  border-radius:50%;
  box-shadow:0 6px 18px rgba(0,0,0,.3),inset 0 3px 6px rgba(255,255,255,.25);
  display:flex;align-items:center;justify-content:center;
  font-weight:700;font-size:min(3vw,11px);color:#fff;letter-spacing:1px;
  text-shadow:0 1px 3px rgba(0,0,0,.4);
  z-index:8;
}

/* ── OPENING ANIMATION ── */
@keyframes flapOpen{
  0%{transform:rotateX(0deg)}
  100%{transform:rotateX(-180deg)}
}
@keyframes phoneShake{
  0%,100%{transform:translateY(0) rotate(-1deg)}
  20%{transform:translateY(-5px) rotate(-3deg)}
  40%{transform:translateY(-18px) rotate(2deg)}
  60%{transform:translateY(-10px) rotate(-1deg)}
  80%{transform:translateY(-20px) rotate(1deg)}
}
@keyframes phoneExplode{
  0%{transform:scale(1);opacity:1}
  100%{transform:scale(1.6);opacity:0}
}
@keyframes screenFlash{
  0%{background:linear-gradient(170deg,#fff9f5,#fff0e6,#fde8d8)}
  50%{background:radial-gradient(circle at center,#fff 0%,#ffd6e8 40%,#fff0e6 100%)}
  100%{background:linear-gradient(170deg,#fff9f5,#fff0e6,#fde8d8)}
}

.phone-frame.opening{
  animation:phoneShake .6s ease-in-out,phoneExplode 1.2s ease-in .6s forwards;
}
.phone-frame.opening .env-top{
  animation:flapOpen .8s cubic-bezier(.17,.67,.38,1.2) .1s forwards;
  transform-style:preserve-3d;
}
.phone-frame.opening .phone-screen{
  animation:screenFlash .8s ease .1s;
}

/* hint */
.hint{
  position:absolute;bottom:-55px;left:50%;transform:translateX(-50%);
  font-family:'Montserrat',sans-serif;font-size:min(3.5vw,.85rem);
  color:rgba(255,255,255,.55);white-space:nowrap;
  letter-spacing:2px;text-transform:uppercase;
  animation:pulse 2s ease-in-out infinite;
}
@keyframes pulse{0%,100%{opacity:.55}50%{opacity:1}}
.hint::before{content:'↑ ';opacity:.7}

/* Phone screen decorations */
.screen-deco{
  position:absolute;width:100%;height:100%;pointer-events:none;z-index:2;
  background:
    radial-gradient(circle at 20% 20%, rgba(255,20,147,.08) 0%, transparent 40%),
    radial-gradient(circle at 80% 80%, rgba(0,191,255,.08) 0%, transparent 40%);
}

/* corner flowers */
.corner-flower{
  position:absolute;font-size:min(5vw,22px);opacity:.4;
}
.corner-flower:nth-child(1){top:8%;left:8%}
.corner-flower:nth-child(2){top:8%;right:8%;transform:scaleX(-1)}
.corner-flower:nth-child(3){bottom:8%;left:8%;transform:scaleY(-1)}
.corner-flower:nth-child(4){bottom:8%;right:8%;transform:scale(-1,-1)}

/* ── EFFECTS ── */
#lightExplosion{position:fixed;inset:0;
  background:radial-gradient(circle at center,rgba(255,192,203,1) 0%,rgba(255,182,193,.95) 20%,rgba(255,20,147,.4) 50%,transparent 70%);
  z-index:50;display:none;filter:blur(3px);pointer-events:none}
@keyframes lightExplode{0%{transform:scale(0);opacity:1}60%{transform:scale(2.5);opacity:.9}100%{transform:scale(4);opacity:0}}
#lightExplosion.active{display:block;animation:lightExplode 2s cubic-bezier(.25,.46,.45,.94) forwards}

#fireworks{position:fixed;inset:0;z-index:28;pointer-events:none}
.firework{position:fixed;border-radius:50%;will-change:transform,opacity;pointer-events:none;
  animation:explode var(--duration) ease-out forwards}
@keyframes explode{0%{transform:translate(0,0) scale(1);opacity:1}100%{transform:translate(var(--vx),var(--vy)) scale(0);opacity:0}}

#bloom{position:fixed;left:50%;top:50%;width:300px;height:300px;border-radius:50%;
  transform:translate(-50%,-50%) scale(0);
  background:radial-gradient(circle,rgba(255,20,147,.7),rgba(0,191,255,.4),transparent);
  z-index:25;pointer-events:none}
@keyframes bloomExpand{0%{transform:translate(-50%,-50%) scale(0);opacity:1}100%{transform:translate(-50%,-50%) scale(4);opacity:0}}
#bloom.active{animation:bloomExpand 1.2s ease-out forwards}

#particles{position:fixed;inset:0;z-index:30;pointer-events:none}
.particle{position:absolute;border-radius:50%;will-change:transform,opacity;pointer-events:none;
  animation:particleFloat 1.2s ease-out forwards}
@keyframes particleFloat{0%{transform:translate(0,0) scale(1);opacity:1}100%{transform:translate(var(--tx),var(--ty)) scale(0);opacity:0}}

/* ── WEBSITE ── */
.website{display:none;width:100%;height:100vh;overflow-y:scroll;
  scroll-snap-type:y mandatory;scroll-behavior:smooth;position:relative;
  background:linear-gradient(180deg,#f6f4f2 0%,#ececec 100%)}
.fireworks-bg{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:5}
.section{min-height:100vh;scroll-snap-align:start;scroll-snap-stop:always;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  padding:40px 20px;text-align:center;position:relative;width:100%;z-index:10}
.section:first-of-type{background:url('https://images.unsplash.com/photo-1519741497674-611481863552?w=1200&q=80') center/cover no-repeat;background-attachment:fixed}
.section:first-of-type::before{content:'';position:absolute;inset:0;background:rgba(255,255,255,.7);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);z-index:5}
.section:first-of-type > *{position:relative;z-index:6}
h1{font-size:2.2rem;font-weight:600;letter-spacing:2px;margin-bottom:15px}
.sub{font-size:1.1rem;font-weight:300;color:rgba(0,0,0,.6);margin-bottom:30px}
.invitation-text{font-family:'Great Vibes',cursive;font-size:3rem;font-weight:400;color:rgba(0,0,0,.8);line-height:1.8;margin-bottom:40px;max-width:700px}
.invitation-text-small{font-family:'Great Vibes',cursive;font-size:2rem;font-weight:400;color:rgba(0,0,0,.7);margin-top:20px}
.countdown{display:flex;gap:20px;justify-content:center;flex-wrap:wrap;margin-top:30px}
.counter{background:#fff;padding:20px 25px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.08);min-width:90px;text-align:center}
.counter h2{color:var(--accent-pink);font-size:2rem;margin:0 0 8px 0}
.counter span{font-size:.85rem;color:rgba(0,0,0,.5);display:block}
.location-container{display:flex;gap:40px;align-items:center;justify-content:center;flex-wrap:wrap;margin-top:40px;width:100%;max-width:1200px}
.map-wrap{flex:1;min-width:280px;max-width:500px;border-radius:14px;overflow:hidden;box-shadow:0 15px 40px rgba(0,0,0,.1);height:350px}
.map-wrap iframe{width:100%;height:100%;border:none}
.riad-photo{flex:1;min-width:280px;max-width:500px;height:350px;object-fit:cover;border-radius:14px;box-shadow:0 15px 40px rgba(0,0,0,.1)}
.gallery-centered{display:flex;gap:30px;align-items:center;justify-content:center;flex-wrap:wrap;margin-top:30px;width:100%;max-width:1200px}
.gallery-centered img{width:100%;max-width:280px;height:380px;object-fit:cover;border-radius:14px;box-shadow:0 15px 40px rgba(0,0,0,.1)}
@media(min-width:900px){h1{font-size:2.8rem}.sub{font-size:1.3rem}}
@media(max-width:768px){.location-container{gap:20px}.map-wrap{max-width:100%}.riad-photo{max-width:100%}}
</style>
</head>
<body>

<div id="particles"></div>
<div id="fireworks"></div>
<div id="bloom"></div>
<div id="lightExplosion"></div>

<div id="intro">
  <div class="phone-frame" id="phoneFrame">
    <!-- Phone hardware details -->
    <div class="phone-notch"></div>
    <div class="phone-btn-r"></div>
    <div class="phone-btn-l1"></div>
    <div class="phone-btn-l2"></div>

    <!-- Screen -->
    <div class="phone-screen" id="phoneScreen">
      <div class="screen-deco"></div>
      <span class="corner-flower">✿</span>
      <span class="corner-flower">✿</span>
      <span class="corner-flower">✿</span>
      <span class="corner-flower">✿</span>

      <!-- Envelope content -->
      <div class="envelope-inner" id="envelopeInner">
        <!-- Top flap (triangle pointing up) -->
        <div class="env-top" id="envFlap">
          <svg viewBox="0 0 200 80" preserveAspectRatio="none">
            <polygon points="0,80 100,0 200,80" fill="#f0cdb0"/>
            <polygon points="0,80 100,15 200,80" fill="#fde0c4" opacity=".6"/>
          </svg>
        </div>
        <!-- Envelope body -->
        <div class="env-body">
          <!-- Seal centered -->
          <div class="env-seal">Y&M</div>
        </div>
      </div>
    </div>
  </div>
  <div class="hint">Cliquez pour ouvrir</div>
</div>

<div class="website" id="website">
<canvas id="trails-canvas" class="fireworks-bg"></canvas>
<canvas id="main-canvas" class="fireworks-bg"></canvas>

<section class="section">
  <h1>YOUSSEF ♥ OUMAIMA</h1>
  <div class="sub">04 • 04 • 2026</div>
  <div class="invitation-text">Nous vous invitons à célébrer<br>l'union de nos cœurs</div>
  <div class="countdown">
    <div class="counter"><h2 id="days">00</h2><span>Jours</span></div>
    <div class="counter"><h2 id="hours">00</h2><span>Heures</span></div>
    <div class="counter"><h2 id="minutes">00</h2><span>Minutes</span></div>
    <div class="counter"><h2 id="seconds">00</h2><span>Secondes</span></div>
  </div>
  <div class="invitation-text-small">Rendez-vous le 4 avril 2026</div>
</section>

<section class="section">
  <h1>Lieu</h1>
  <div class="sub">Notre réception</div>
  <div class="location-container">
    <div class="map-wrap">
      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d13287.123!2d-7.5898!3d33.5731" loading="lazy"></iframe>
    </div>
    <img src="https://images.unsplash.com/photo-1571508601155-3ebf3a2c7f7b?w=500&h=400&fit=crop" alt="Riad" class="riad-photo">
  </div>
</section>

<section class="section">
  <h1>Notre Histoire</h1>
  <div class="sub">Des moments précieux</div>
  <div class="gallery-centered">
    <img src="https://picsum.photos/400/500?random=1" alt="Photo 1">
    <img src="https://picsum.photos/400/500?random=2" alt="Photo 2">
    <img src="https://picsum.photos/400/500?random=3" alt="Photo 3">
  </div>
</section>
</div>

<script>
const phoneFrame=document.getElementById('phoneFrame');
const intro=document.getElementById('intro');
const website=document.getElementById('website');
const fireworksContainer=document.getElementById('fireworks');
const particlesContainer=document.getElementById('particles');
const bloom=document.getElementById('bloom');
const lightExplosion=document.getElementById('lightExplosion');
let opened=false;

function openEnvelope(){
  if(opened)return;
  opened=true;
  phoneFrame.classList.add('opening');
  setTimeout(()=>{lightExplosion.classList.add('active');},400);
  setTimeout(()=>{bloom.classList.add('active');createFireworks();},600);
  setTimeout(()=>{createParticles();},800);
  setTimeout(()=>{intro.style.display='none';website.style.display='block';startFireworksAnimation();},1800);
}

function createFireworks(){
  const colors=['#ff1493','#00bfff','#ffff00','#ff69b4','#87ceeb','#ff6347','#32cd32','#ffd700'];
  const cx=window.innerWidth/2,cy=window.innerHeight/2;
  for(let b=0;b<5;b++){
    setTimeout(()=>{
      for(let i=0;i<80;i++){
        const angle=(i/80)*Math.PI*2+(Math.random()-.5)*.5;
        const speed=Math.random()*300+250;
        const vx=Math.cos(angle)*speed,vy=Math.sin(angle)*speed-150;
        const fw=document.createElement('div');fw.className='firework';
        const size=Math.random()*8+2,color=colors[Math.floor(Math.random()*colors.length)],dur=Math.random()*.8+1.2;
        fw.style.cssText=`left:${cx}px;top:${cy}px;width:${size}px;height:${size}px;background:${color};box-shadow:0 0 ${6+Math.random()*10}px ${color}`;
        fw.style.setProperty('--vx',vx+'px');fw.style.setProperty('--vy',vy+'px');fw.style.setProperty('--duration',dur+'s');
        fireworksContainer.appendChild(fw);
        setTimeout(()=>{if(fw.parentNode)fw.remove();},dur*1000);
      }
    },b*150);
  }
}

function createParticles(){
  const colors=['#ff69b4','#87ceeb','#ffc0cb','#add8e6','#ff1493','#00bfff'];
  const cx=window.innerWidth/2,cy=window.innerHeight/2;
  for(let i=0;i<30;i++){
    const p=document.createElement('div');p.className='particle';
    const size=Math.random()*25+8,color=colors[Math.floor(Math.random()*colors.length)];
    const angle=(i/30)*Math.PI*2,vel=Math.random()*200+150;
    p.style.cssText=`left:${cx}px;top:${cy}px;width:${size}px;height:${size}px;background:${color};opacity:.9`;
    p.style.setProperty('--tx',Math.cos(angle)*vel+'px');p.style.setProperty('--ty',Math.sin(angle)*vel-50+'px');
    particlesContainer.appendChild(p);
    setTimeout(()=>{if(p.parentNode)p.remove();},1200);
  }
}

function startFireworksAnimation(){
  const colors=['#ff1493','#00bfff','#ffff00','#ff69b4','#87ceeb'];
  setInterval(()=>{
    const x=Math.random()*window.innerWidth,y=Math.random()*(window.innerHeight*.3);
    for(let i=0;i<30;i++){
      const angle=(i/30)*Math.PI*2,speed=Math.random()*150+100;
      const vx=Math.cos(angle)*speed,vy=Math.sin(angle)*speed;
      const fw=document.createElement('div');fw.className='firework';
      const size=Math.random()*4+1,color=colors[Math.floor(Math.random()*colors.length)],dur=Math.random()*.6+.8;
      fw.style.cssText=`left:${x}px;top:${y}px;width:${size}px;height:${size}px;background:${color};box-shadow:0 0 ${4+Math.random()*6}px ${color}`;
      fw.style.setProperty('--vx',vx+'px');fw.style.setProperty('--vy',vy+'px');fw.style.setProperty('--duration',dur+'s');
      fireworksContainer.appendChild(fw);
      setTimeout(()=>{if(fw.parentNode)fw.remove();},dur*1000);
    }
  },1500);
}

phoneFrame.addEventListener('click',openEnvelope);
phoneFrame.addEventListener('keydown',(e)=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();openEnvelope();}});

const weddingDate=new Date("Apr 04, 2026 19:00:00").getTime();
function updateCountdown(){
  const d=Math.max(0,weddingDate-Date.now());
  document.getElementById('days').textContent=String(Math.floor(d/(864e5))).padStart(2,'0');
  document.getElementById('hours').textContent=String(Math.floor((d%864e5)/36e5)).padStart(2,'0');
  document.getElementById('minutes').textContent=String(Math.floor((d%36e5)/6e4)).padStart(2,'0');
  document.getElementById('seconds').textContent=String(Math.floor((d%6e4)/1000)).padStart(2,'0');
}
setInterval(updateCountdown,1000);updateCountdown();
</script>
</body>
</html>
